// Generated by Haxe 4.1.0-rc.1+0d88c583b
using haxe.root;

#pragma warning disable 109, 114, 219, 429, 168, 162
public class Client {
	
	public Client() {
		unchecked {
			global::haxe.Log.trace.__hx_invoke2_o(default(double), "\u662f\u5426\u6211\u7684\u7248\u672c\uff1f", default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"new", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (78) )}));
			global::utils.AES_Test.test();
			object a = new global::haxe.lang.DynamicObject(new int[]{97}, new object[]{"\u4e2d\u6587\u6d4b\u8bd5"}, new int[]{}, new double[]{});
			global::Client.testThread();
			global::haxe.io.Bytes b = global::org.msgpack.MsgPack.encode(a);
			object c = global::org.msgpack.MsgPack.decode(b, null);
			global::haxe.Log.trace.__hx_invoke2_o(default(double), global::haxe.lang.Runtime.getField(c, "a", 97, true), default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"new", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (90) )}));
			global::haxe.lang.Function replacer = null;
			string space = null;
			string a1 = global::haxe.format.JsonPrinter.print(((object) (a) ), replacer, space);
			object b1 = new global::haxe.format.JsonParser(((string) (a1) )).doParse();
			global::web.proto.WebEventDispatch.getInstance().addEventListener(((string) ("error") ), ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "onErrorFromServer", 1415277398)) ), default(object), default(object), default(object));
			this.code = global::haxe.root.Random.@string(32, null);
		}
	}
	
	
	public static void main() {
		new global::Client();
	}
	
	
	public static void testThread() {
		unchecked {
			global::sys.thread._Thread.HaxeThread this1 = global::sys.thread._Thread.HaxeThread.@get(global::System.Threading.Thread.CurrentThread);
			global::sys.thread._Thread.HaxeThread me = ((global::sys.thread._Thread.HaxeThread) (this1) );
			global::sys.thread._Thread.Thread_Impl_.create(new global::Client_testThread_107__Fun(me));
			string result = global::haxe.lang.Runtime.toString(global::sys.thread._Thread.Thread_Impl_.readMessage(true));
			global::haxe.Log.trace.__hx_invoke2_o(default(double), global::haxe.lang.Runtime.concat("\u7ebf\u7a0b", result), default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"testThread", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (113) )}));
			if (( result == null )) {
				throw global::haxe.lang.HaxeException.wrap("\u4e0d\u652f\u6301\u7ebf\u7a0b");
			}
			
			global::haxe.MainLoop.addThread(( (( global::Client_testThread_119__Fun.__hx_current != null )) ? (global::Client_testThread_119__Fun.__hx_current) : (global::Client_testThread_119__Fun.__hx_current = ((global::Client_testThread_119__Fun) (new global::Client_testThread_119__Fun()) )) ));
		}
	}
	
	
	public event global::System.Action<int> eventTest;
	
	public object none;
	
	public global::client.RoomCS xx;
	
	public global::client.HallCS hall;
	
	public global::System.Action onSocketOpenCS;
	
	public global::System.Action onSocketCloseCS;
	
	public global::System.Action<object> onSocketErrorCS;
	
	public global::System.Action<global::web.proto.HallEvent> onLoginCS;
	
	public global::System.Action<global::web.proto.HallEvent> onRegCS;
	
	public global::System.Action<global::web.proto.ErrorEventCS> onGlobalError;
	
	public global::client.PlayerCS testPlayer;
	
	public string code;
	
	public virtual void testUint(uint d) {
		unchecked {
			global::haxe.io.BytesOutput buf2 = new global::haxe.io.BytesOutput();
			global::binary128.@internal.Leb128.writeUint32(buf2, d);
			global::haxe.io.BytesInput i = new global::haxe.io.BytesInput(buf2.getBytes(), null, null);
			uint xx = global::binary128.@internal.Leb128.readUint32(i);
			global::haxe.Log.trace.__hx_invoke2_o(default(double), global::haxe.lang.Runtime.concat(global::haxe.lang.Runtime.concat(global::haxe.lang.Runtime.concat("\u751f\u6210\u7684uint?=", global::haxe.root.Std.@string(xx)), "  t="), global::haxe.root.Std.@string(global::haxe.root.Type.@typeof(xx))), default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"testUint", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (75) )}));
		}
	}
	
	
	public virtual void onErrorFromServer(global::web.proto.ErrorEventCS e) {
		this.onGlobalError.Invoke(((global::web.proto.ErrorEventCS) (e) ));
	}
	
	
	public virtual void connectWithIP(string ip, int port) {
		unchecked {
			global::Client _gthis = this;
			global::haxe.Log.trace.__hx_invoke2_o(default(double), global::haxe.lang.Runtime.concat(global::haxe.lang.Runtime.concat(global::haxe.lang.Runtime.concat("", ip), ":"), global::haxe.lang.Runtime.toString(port)), default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"connectWithIP", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (132) )}));
			global::haxe.MainLoop.addThread(new global::Client_connectWithIP_134__Fun(port, ip, _gthis));
		}
	}
	
	
	public virtual void quit() {
		global::web.SocketAsync.socket.close();
		global::web.SocketAsync.socket = null;
	}
	
	
	public virtual void onOpen() {
		unchecked {
			global::haxe.Log.trace.__hx_invoke2_o(default(double), "\u63e1\u624b", default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"onOpen", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (153) )}));
			this.onSocketOpenCS.Invoke();
		}
	}
	
	
	public virtual void onClose() {
		unchecked {
			global::haxe.Log.trace.__hx_invoke2_o(default(double), "oncloese", default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"onClose", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (162) )}));
			this.onSocketCloseCS.Invoke();
		}
	}
	
	
	public virtual void onError(string e) {
		unchecked {
			global::haxe.Log.trace.__hx_invoke2_o(default(double), "onError", default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"onError", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (167) )}));
			this.onSocketErrorCS.Invoke(((object) (e) ));
		}
	}
	
	
}



#pragma warning disable 109, 114, 219, 429, 168, 162
public class Client_connectWithIP_134__Fun : global::haxe.lang.Function {
	
	public Client_connectWithIP_134__Fun(int port, string ip, global::Client _gthis) : base(0, 0) {
		this.port = port;
		this.ip = ip;
		this._gthis = _gthis;
	}
	
	
	public override object __hx_invoke0_o() {
		global::web.SocketAsync.installSocket(global::haxe.lang.Runtime.concat(global::haxe.lang.Runtime.concat(global::haxe.lang.Runtime.concat("", this.ip), ":"), global::haxe.lang.Runtime.toString(this.port)), ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this._gthis, "onOpen", 1816005769)) ), ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this._gthis, "onClose", 1587590681)) ), ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this._gthis, "onError", 157772329)) ), null);
		return null;
	}
	
	
	public int port;
	
	public string ip;
	
	public global::Client _gthis;
	
}



#pragma warning disable 109, 114, 219, 429, 168, 162
public class Client_testThread_107__Fun : global::haxe.lang.Function {
	
	public Client_testThread_107__Fun(global::sys.thread._Thread.HaxeThread me) : base(0, 0) {
		this.me = me;
	}
	
	
	public override object __hx_invoke0_o() {
		{
			global::haxe.lang.Function replacer = null;
			string space = null;
			global::haxe.format.JsonPrinter.print(((object) ("xxxxx") ), replacer, space);
		}
		
		((global::sys.thread._Thread.HaxeThread) (this.me) ).sendMessage(((object) ("Done") ));
		return null;
	}
	
	
	public global::sys.thread._Thread.HaxeThread me;
	
}



#pragma warning disable 109, 114, 219, 429, 168, 162
public class Client_testThread_119__Fun : global::haxe.lang.Function {
	
	public Client_testThread_119__Fun() : base(0, 0) {
	}
	
	
	public static global::Client_testThread_119__Fun __hx_current;
	
	public override object __hx_invoke0_o() {
		unchecked {
			{
				global::haxe.lang.Function replacer1 = null;
				string space1 = null;
				global::haxe.format.JsonPrinter.print(((object) ("xxxxx") ), replacer1, space1);
			}
			
			global::haxe.Log.trace.__hx_invoke2_o(default(double), "\u652f\u6301\u7ebf\u7a0b\u5417\uff1f", default(double), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"testThread", "Client", "src/Client.hx"}, new int[]{1981972957}, new double[]{((double) (122) )}));
			return null;
		}
	}
	
	
}


